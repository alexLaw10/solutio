<div class="kpi-container" *ngIf="!loading; else loadingTpl" role="region" aria-label="Indicadores de temperatura">

  <div class="kpi-card" role="group" aria-labelledby="kpi-avg">
    <h4 id="kpi-avg">Média</h4>
    <p [attr.aria-label]="'Temperatura média: ' + avgTemp + ' graus Celsius'">{{ avgTemp }} °C</p>
  </div>

  <div class="kpi-card" role="group" aria-labelledby="kpi-max">
    <h4 id="kpi-max">Máximo</h4>
    <p [attr.aria-label]="'Temperatura máxima: ' + maxTemp + ' graus Celsius'">{{ maxTemp }} °C</p>
  </div>

  <div class="kpi-card" role="group" aria-labelledby="kpi-min">
    <h4 id="kpi-min">Mínimo</h4>
    <p [attr.aria-label]="'Temperatura mínima: ' + minTemp + ' graus Celsius'">{{ minTemp }} °C</p>
  </div>

  <div class="kpi-card" role="group" aria-labelledby="kpi-change">
    <h4 id="kpi-change">Variação (%)</h4>
    <p 
      [class.positive]="percentChange >= 0"
      [class.negative]="percentChange < 0"
      [attr.aria-label]="'Variação percentual: ' + percentChange + ' por cento'">
      {{ percentChange }}%
    </p>
  </div>

</div>

<ng-template #loadingTpl>
  <div role="status" aria-live="polite" aria-label="Carregando indicadores">
    <p>Carregando KPIs...</p>
  </div>
</ng-template>
